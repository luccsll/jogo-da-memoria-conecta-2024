<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.7.1/jquery.min.js"></script>
    <title>Document</title>
</head>

<body>
    <h1 id="gameTheme"></h1>
    <div id="contentMain"></div>

    <table id="tabelaDados" border="1">
        <tr>
            <th>Nome</th>
            <th>Idade</th>
            <th>Cidade</th>
        </tr>
    </table>


    <script>
        function salvarDados(dados) {
            // Verifica se já existem dados no localStorage
            const dadosExistentes = localStorage.getItem('dadosGerados');

            // Se existirem dados, concatena os novos dados com os já existentes
            let todosOsDados = [];
            if (dadosExistentes) {
                todosOsDados = JSON.parse(dadosExistentes);
            }

            // Concatena os novos dados aos já armazenados
            todosOsDados = todosOsDados.concat(dados);

            // Salva os dados atualizados no localStorage
            const dadosJSON = JSON.stringify(todosOsDados);
            localStorage.setItem('dadosGerados', dadosJSON);
        }

        const dadosGerados = [
            { nome: "Lucas", idade: 28, cidade: "São Paulo" },
            { nome: "Ana", idade: 32, cidade: "Rio de Janeiro" }
        ];

        salvarDados(dadosGerados);

        const a = [
            { nome: "Carlos", idade: 10, cidade: "São Paulo" },
            { nome: "Ana", idade: 32, cidade: "SA" }
        ];

        salvarDados(a);

        function exibirDadosEmTabela() {
            const dadosJSON = localStorage.getItem('dadosGerados');

            if (dadosJSON) {
                const dados = JSON.parse(dadosJSON);
                const tabela = document.getElementById('tabelaDados');

                dados.forEach((item) => {
                    const novaLinha = tabela.insertRow();
                    const celulaNome = novaLinha.insertCell(0);
                    const celulaIdade = novaLinha.insertCell(1);
                    const celulaCidade = novaLinha.insertCell(2);

                    celulaNome.textContent = item.nome;
                    celulaIdade.textContent = item.idade;
                    celulaCidade.textContent = item.cidade;
                });
            }
        }

        exibirDadosEmTabela();


    </script>
</body>

</html>